<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="æå…¨æ°‘çš„ä¸ªäººåšå®¢"><title>JNI ç®€ä»‹ | èœ—ç‰›å£³</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-65882749-1','auto');ga('send','pageview');</script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">JNI ç®€ä»‹</h1><a id="logo" href="/.">èœ—ç‰›å£³</a><p class="description">è®¡ç®—æœºåªæœ‰ 0 å’Œ 1 ï¼Œä½†ä¸–ç•Œæ˜¯è¿ç»­çš„</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> é¦–é¡µ</i></a><a href="/archives/"><i class="fa fa-archive"> å½’æ¡£</i></a><a href="/about/"><i class="fa fa-user"> å…³äº</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">JNI ç®€ä»‹</h1><div class="post-meta">May 14, 2016<span> | </span><span class="category"><a href="/categories/Android/">Android</a></span></div><div class="post-content"><p>ä»æœ¬ç« çš„ä»‹ç»ä¸­å¯ä»¥çœ‹å‡ºæ¥ï¼ŒAndroid çš„ä¸Šå±‚ä½¿ç”¨ Java è¯­è¨€æ¥è¿›è¡Œåº”ç”¨ç¨‹åºå¼€å‘ï¼Œä½†æ˜¯æœ¬åœ°åº“éƒ½æ˜¯ä½¿ç”¨ C/C++ æ¥å®ç°ï¼Œè¿™ä¸­é—´æ˜¯éœ€è¦ç²˜åˆçš„ï¼Œè¿™ç§ç²˜åˆæ–¹å¼å°±æ˜¯ JNI ã€‚</p>
<p>JNI æ˜¯ Java Native Interface çš„ç¼©å†™ï¼Œå®ƒæä¾›äº†è‹¥å¹²çš„ API å®ç°äº† Java å’Œå…¶ä»–è¯­è¨€çš„é€šä¿¡ï¼ˆä¸»è¦æ˜¯ C&amp;C++ ï¼‰ã€‚</p>
<p>åœ¨ã€Š Android æŠ€æœ¯å†…å¹•(ç³»ç»Ÿå·)ã€‹è¿™æœ¬ä¹¦é‡Œé¢ï¼Œæœ‰ä¸€å¹…å›¾å¯ä»¥å¾ˆå¥½çš„å±•ç°è¿™å±‚å…³ç³»ï¼š<a id="more"></a></p>
<div align="center"><img src="http://7xktd8.com1.z0.glb.clouddn.com/Android-JNI.png" height="300" alt="Android-JNI"></div>

<p>è¿™ä¸ªå›¾å¯ä»¥æ˜ å°„åˆ° Android ç³»ç»Ÿçš„æ¡†æ¶å›¾å»çœ‹ï¼Œå¯ä»¥æ˜æ˜¾çœ‹åˆ°ï¼š<strong>JNI æ˜¯ç²˜åˆæ¡†æ¶å±‚å’Œåº“å±‚çš„é‡è¦ç»„ä»¶</strong>ã€‚</p>
<h2 id="JNIçš„åŸºç¡€ç”¨æ³•"><a href="#JNIçš„åŸºç¡€ç”¨æ³•" class="headerlink" title="JNIçš„åŸºç¡€ç”¨æ³•"></a>JNIçš„åŸºç¡€ç”¨æ³•</h2><h4 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><p>å…ˆæ¥çœ‹ä¸€ä¸ª Android ä¸Šç®€å•çš„JNIä½¿ç”¨ğŸŒ°ã€‚</p>
<p>å…ˆå†™å¦‚ä¸‹è¿™æ ·ä¸€ä¸ªç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.footprint.littleshell;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.EditText;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by liquanmin on 16/5/11.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> <span class="keyword">implements</span> <span class="title">View</span>.<span class="title">OnClickListener</span> </span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> EditText et;</span><br><span class="line">    <span class="keyword">protected</span> Button button;</span><br><span class="line"></span><br><span class="line">	 <span class="keyword">static</span>&#123;</span><br><span class="line">		 System.loadLibrary(<span class="string">"test_jni"</span>);</span><br><span class="line">	 &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">native</span> String <span class="title">getMessage</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">super</span>.setContentView(R.layout.activity_test);</span><br><span class="line">        initView();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (view.getId() == R.id.button) &#123;</span><br><span class="line">            et.setText(getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initView</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        et = (EditText) findViewById(R.id.et);</span><br><span class="line">        button = (Button) findViewById(R.id.button);</span><br><span class="line">        button.setOnClickListener(TestActivity.<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚ä»£ç æ‰€ç¤ºï¼Œè¿™ä¸ªç±»å£°æ˜äº†ä¸€ä¸ª native æ–¹æ³•<code>getMessage()</code>ï¼Œç„¶åç¼–è¯‘è¿™ä¸ªç±»ï¼ˆåœ¨ IDE é‡Œé¢å¯ä»¥ç®€å•çš„ä½¿ç”¨<code>Build-&gt;Rebuild Project</code>æ¥è¿›è¡Œï¼‰ã€‚</p>
<p>è¿™ä¸ªç±»æ˜¯å£°æ˜åœ¨<code>com.footprint.littleshell</code>ï¼Œæˆ‘ä»¬è¿›å…¥<code>com</code>æ‰€åœ¨ç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š<code>javah -jni com.footprint.littleshell.TestActivity</code>ï¼Œå°±å¯åœ¨<code>com</code>æ‰€åœ¨ç›®å½•ä¸‹é¢å¾—åˆ°å¦‚ä¸‹æ–‡ä»¶ï¼š<code>com_footprint_littleshell_TestActivity.h</code>ã€‚</p>
<blockquote>
<p>ä¸€å®šè¦æ˜¯åŒ…æ‰€åœ¨ç›®å½•ï¼Œè€Œä¸æ˜¯ç¼–è¯‘å‡ºæ¥çš„ class æ–‡ä»¶æ‰€åœ¨ç›®å½•ã€‚</p>
<p>å¦å¤–ï¼Œåœ¨ Mac ä¸‹ï¼Œå‘½ä»¤æ‰§è¡Œå¯èƒ½ä¼šå‡ºç°ä¸­æ–‡ä¹±ç ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è§£å†³ï¼š<code>export JAVA_TOOL_OPTIONS=-Dfile.encoding=UTF-8</code>ã€‚</p>
<p>åœ¨ Android Studio é‡Œé¢ï¼Œå¯ä»¥é€šè¿‡é€‰æ‹©å¯¹åº”çš„classæ–‡ä»¶ï¼Œå³å‡» -&gt; â€œAndroid toolsâ€ -&gt; â€œjavahâ€ç”Ÿæˆå¤´æ–‡ä»¶ï¼›</p>
</blockquote>
<p>è¿™ä¸ª<code>.h</code>æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* DO NOT EDIT THIS FILE - it is machine generated */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;jni.h&gt;</span></span></span><br><span class="line"><span class="comment">/* Header for class com_footprint_littleshell_TestActivity */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> _Included_com_footprint_littleshell_TestActivity</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _Included_com_footprint_littleshell_TestActivity</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> __cplusplus</span></span><br><span class="line"><span class="keyword">extern</span> <span class="string">"C"</span> &#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Class:     com_footprint_littleshell_TestActivity</span></span><br><span class="line"><span class="comment"> * Method:    getMessage</span></span><br><span class="line"><span class="comment"> * Signature: ()Ljava/lang/String;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">JNIEXPORT jstring JNICALL Java_com_footprint_littleshell_TestActivity_getMessage</span><br><span class="line">  (JNIEnv *, jobject);</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> __cplusplus</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<p>åœ¨ Android ä¸Šï¼Œå¯ä»¥ä½¿ç”¨ NDK æ¥å®Œæˆæ•´ä¸ª JNI çš„å¼€å‘ï¼š</p>
<ol>
<li>å³å‡» Moduleï¼Œé€‰æ‹©â€Newâ€ -&gt; â€œFolderâ€ -&gt; â€œJNI Folderâ€ã€‚è¿™æ ·å°±ä¼šåœ¨å¯¹åº”çš„ Moudle ä¸­ä¸<code>java</code>åŒçº§ç›®å½•å¤„ç”Ÿæˆ<code>jni</code>ç›®å½•ï¼›</li>
<li>å°†åˆšåˆšç”Ÿæˆçš„<code>.h</code>æ–‡ä»¶æ‹·è´åˆ°è¿™ä¸ªç›®å½•ä¸‹é¢ï¼›</li>
<li>åœ¨é¡¹ç›®ä¸­çš„<code>local.properties</code>æ–‡ä»¶ä¸­é…ç½® NDK çš„ä½ç½®ï¼Œæ¯”å¦‚åœ¨æˆ‘çš„ç”µè„‘ä¸Šï¼Œå°±éœ€è¦å¢åŠ å¦‚ä¸‹ä¸€è¡Œ:<code>ndk.dir=/Users/xxx/Documents/xxxx/Software/NDK/android-ndk-r10d</code>ï¼›</li>
</ol>
<p>å®Œæˆä»¥ä¸Šæ­¥éª¤ä¹‹åï¼Œåœ¨<code>jni</code>ç›®å½•ä¸‹é¢æ–°å»ºä¸€ä¸ª<code>.c</code>æ–‡ä»¶å®ç°ä»¥ä¸Šçš„<code>.h</code>æ–‡ä»¶ï¼Œåå­—éšæ„ï¼Œæ¯”å¦‚<code>test_jni.c</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;jni.h&gt;</span><br><span class="line">#include "com_footprint_littleshell_TestActivity.h"</span><br><span class="line"></span><br><span class="line">JNIEXPORT jstring JNICALL Java_com_footprint_littleshell_TestActivity_getMessage</span><br><span class="line">  (JNIEnv *env, jobject obj)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> (*env)-&gt;NewStringUTF(env, <span class="string">"Hello World! It's JNI"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼šæ–‡ä»¶ä¸è¦å†™æˆ<code>cpp</code>æ–‡ä»¶ï¼Œå¦åˆ™ä¼šå‘ç”Ÿé”™è¯¯ï¼Œå…·ä½“å¯ä»¥è§<a href="http://stackoverflow.com/questions/15764948/error-base-operand-of-has-non-pointer-type-jnienv" target="_blank" rel="noopener">error: base operand of â€˜-&gt;â€™ has non-pointer type â€˜JNIEnvâ€™</a>ã€‚</p>
</blockquote>
<p>ä¹‹åï¼Œæˆ‘ä»¬åœ¨è¯¥æ¨¡å—çš„<code>build.gradle</code>ä¸­è¿›è¡Œ ndk çš„é…ç½®ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">defaultConfig &#123;</span><br><span class="line">	applicationId <span class="string">"com.footprint.littleshell"</span></span><br><span class="line">	minSdkVersion <span class="number">14</span></span><br><span class="line">	targetSdkVersion <span class="number">22</span></span><br><span class="line">	versionCode <span class="number">1</span></span><br><span class="line">	versionName <span class="string">"1.0"</span></span><br><span class="line"></span><br><span class="line">	ndk&#123;</span><br><span class="line">		moduleName <span class="string">"test_jni"</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šæ‰€ç¤ºï¼Œè¿™é‡Œé…ç½® moduleName ä¸ºâ€test_jniâ€â€”â€”æœ€åç”Ÿæˆçš„<code>.so</code>åˆ†äº«åº“çš„åå­—ï¼Œå®é™…ä¼šåœ¨å‰é¢åŠ ä¸Š lib ï¼Œåé¢åŠ ä¸Š .soï¼Œå³æœ€ç»ˆç”Ÿæˆ<code>libtest_jni.so</code>åº“ã€‚</p>
<div align="center"><img src="http://7xktd8.com1.z0.glb.clouddn.com/Android-NDK.png" height="360" alt="Android-NDK"></div>

<p>å¦‚å›¾ï¼Œåœ¨ä¸Šé¢æ–¹æ¡†çš„æ–‡ä»¶å¤¹ä¸­å°±ç”Ÿæˆäº†å¯¹åº”çš„<code>.so</code>åº“ï¼Œåœ¨ä¸<code>java</code>åŒçº§çš„ç›®å½•ä¸­å»ºç«‹ jniLibs ç›®å½•ï¼ŒæŠŠä¸Šé¢æ–¹æ¡† lib ç›®å½•ä¸‹é¢çš„æ–‡ä»¶å¤¹å…¨éƒ¨æ‹·è´è¿‡æ¥(å®é™…å¼€å‘ä¸­ä»¥æ”¯æŒçš„CPUæ¶æ„ä¸ºæ ‡å‡†)ï¼Œè¿™æ ·ï¼Œå°±å®Œæˆäº†<code>.so</code>åº“çš„å¼€å‘ï¼Œåœ¨ Java ä»£ç é‡Œé¢ï¼ŒåŠ ä¸Šå¦‚ä¸‹ä»£ç å³å¯ä½¿ç”¨:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span>&#123;</span><br><span class="line">	System.loadLibrary(<span class="string">"test_jni"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<div align="center"><img src="http://7xktd8.com1.z0.glb.clouddn.com/jni-demo.png" height="320" alt="JNI demo"></div>

<blockquote>
<p>å…³äºä½¿ç”¨ Android Studio è¿›è¡Œ NDK å¼€å‘ï¼Œä¹Ÿå¯ä»¥å‚è€ƒ<a href="http://www.race604.com/android-studio-with-ndk/" target="_blank" rel="noopener">Android Studioä¸­NDKå¼€å‘</a>è¿™ç¯‡æ–‡ç« ã€‚ä»ä¾‹å­çœ‹ï¼Œè¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚</p>
</blockquote>
<h4 id="è§£é‡Š"><a href="#è§£é‡Š" class="headerlink" title="è§£é‡Š"></a>è§£é‡Š</h4><p>ç”Ÿæˆçš„<code>.h</code>å‡½æ•°ä¸­æœ‰ä¸€ä¸ªæ–¹æ³•: <code>JNIEXPORT jstring JNICALL Java_com_footprint_littleshell_TestActivity_getMessage
  (JNIEnv *, jobject);</code>ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Ÿ</p>
<p>é¦–å…ˆæ˜¯æ–¹æ³•åï¼šè¿™ä¸ªåå­—çœ‹ç€å¾ˆçœ¼ç†Ÿï¼šå®ƒæ˜¯åœ¨ Java å£°æ˜çš„ native æ–¹æ³•åå­—å‰é¢åŠ ä¸Šäº†æ–¹æ³•æ‰€åœ¨ç±»çš„å…¨é™å®šåï¼Œå¹¶å°†åŒ…åˆ†éš”ç¬¦<code>.</code>æ¢æˆ<code>_</code>ï¼Œæœ€ååœ¨å‰é¢åŠ ä¸Š<code>Java_</code>æ¥è¡¨ç¤ºçš„ï¼Œè¯»è€…å¯ä»¥å¤šå†™å‡ ä¸ªå‡½æ•°ï¼Œå°±ä¼šå‘ç°è¿™æ˜¯ä¸€ä¸ªæ™®éè§„å¾‹ã€‚</p>
<p>ä¼ è¿›æ¥çš„ä¸¤ä¸ªå‚æ•°ä»£è¡¨ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<ol>
<li><code>JNIEnv *</code> è¿™ä»£è¡¨ä¸€ä¸ª Java è™šæ‹Ÿæœº(JVM)æ‰€è¿è¡Œçš„ç¯å¢ƒï¼Œä»å®ƒå¯ä»¥è®¿é—®åˆ° JVM å†…éƒ¨çš„å„ç§å¯¹è±¡ï¼›</li>
<li><code>jobject</code> è°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡ï¼Œä¾‹å­ä¸­æ‰€æŒ‡çš„å°±æ˜¯<code>TestActivity</code>ï¼›</li>
</ol>
<h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p>æœ¬ç« è¯´æ˜è¯´æåˆ°çš„ä¸‰æœ¬ä¹¦éƒ½æœ‰å…³äº JNI çš„ä»‹ç»ã€‚</p>
<h4 id="é™æ€æ³¨å†Œ"><a href="#é™æ€æ³¨å†Œ" class="headerlink" title="é™æ€æ³¨å†Œ"></a>é™æ€æ³¨å†Œ</h4><p>ä»å‰é¢çš„ä¾‹å­ä¸­å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬åœ¨ Java ä¸­è°ƒç”¨ native æ–¹æ³•<code>getMessage()</code>æ—¶ï¼Œå®é™…æ˜¯è¢«æ˜ å°„åˆ°äº†<code>Java_com_footprint_littleshell_TestActivity_getMessage</code>ä¸Šï¼Œé‚£ä¹ˆè¿™ç§æ˜ å°„å…³ç³»æ˜¯å¦‚ä½•å»ºç«‹çš„å‘¢ï¼Ÿ</p>
<p>å‰é¢æè¿°äº†<code>javah</code>å‘½ä»¤ç”Ÿæˆçš„ native å‡½æ•°åç§°çš„ç”±æ¥ï¼Œè¿™å…¶å®æ˜¯ä¸€ç§è§„èŒƒï¼Œè¿™ç§æ˜ å°„å…³ç³»çš„å»ºç«‹ç§°ä¸ºé™æ€æ˜ å°„ï¼šåœ¨<code>.h</code>æ–‡ä»¶ç”Ÿæˆæ—¶ï¼Œå°±æŒ‰ç…§ä¸€å®šçš„è§„åˆ™ç”Ÿæˆæœ¬åœ°æ–¹æ³•åç§°ï¼Œä»è€ŒJVMä¹Ÿèƒ½æ ¹æ®è¿™ç§è§„åˆ™åœ¨ Java è°ƒç”¨ native å‡½æ•°æ—¶ï¼Œæ‰¾åˆ°å¯¹åº”çš„æœ¬åœ°æ–¹æ³•ã€‚</p>
<p>è¿™ç§æ–¹å¼äº§ç”Ÿçš„ native æ–¹æ³•åå­—å¾ˆé•¿ï¼Œä¸ä¾¿äºç®¡ç†ï¼Œå› æ­¤ JNI è¿˜å¯ä»¥è¿›è¡ŒåŠ¨æ€æ³¨å†Œâ€”â€”å¼€å‘è€…å¯ä»¥ä»»æ„å‘½å native å‡½æ•°åç§°ã€‚</p>
<h4 id="åŠ¨æ€æ³¨å†Œ"><a href="#åŠ¨æ€æ³¨å†Œ" class="headerlink" title="åŠ¨æ€æ³¨å†Œ"></a>åŠ¨æ€æ³¨å†Œ</h4><p>é™æ€æ³¨å†Œç”Ÿæˆçš„nativeå‡½æ•°åå­—å†—é•¿ï¼Œè‡ªå·±å»å†™å¤ªéº»çƒ¦ï¼Œè€Œå¦‚æœç›´æ¥ä» class æ–‡ä»¶ç”Ÿæˆï¼Œåˆ™æ¯ä¸€ä¸ª class æ–‡ä»¶éƒ½è¦æ‰§è¡Œ<code>javah</code>å‘½ä»¤ï¼ˆè™½ç„¶å¯èƒ½ä¸æ˜¯å¾ˆå¤šï¼‰ï¼Œè¿™é‡Œæä¾›å¦å¤–ä¸€ç§é€‰æ‹©ï¼šåŠ¨æ€æ³¨å†Œã€‚ä½¿ç”¨è¿™ç§æŠ€æœ¯ï¼Œæˆ‘ä»¬å¯ä»¥ä»»æ„å‘½å native å‡½æ•°åï¼Œæ‰‹åŠ¨å»ºç«‹ native å‡½æ•°åˆ° Java å‡½æ•°çš„æ˜ å°„å…³ç³»ã€‚</p>
<p>å…ˆæ¥çœ‹çœ‹å¦‚ä½•å®ç°åŠ¨æ€æ³¨å†Œï¼šå¤§è‡´åšæ³•å’Œå‰é¢ä¸€è‡´ï¼Œåªæ˜¯ä¸å†éœ€è¦æ‰§è¡Œ<code>javah</code>å‘½ä»¤ç”Ÿæˆå¤´æ–‡ä»¶ï¼Œåœ¨<code>jni</code>ç›®å½•ä¸‹é¢ï¼Œæˆ‘ä»¬åªéœ€è¦å»ºç«‹ä¸€ä¸ª test_jni.c æ–‡ä»¶ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;jni.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ³¨æ„ï¼šè¿™ä¸ªæ–¹æ³•ä¸€å®šè¦å£°æ˜åœ¨gMethodsä¹‹å‰ï¼Œå¦åˆ™ä¼šæŠ¥æ‰¾ä¸åˆ°æ–¹æ³•çš„é”™è¯¯</span></span><br><span class="line"><span class="function">JNIEXPORT jstring  JNICALL <span class="title">getMessageNative</span><span class="params">(JNIEnv *env, jobject obj)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (*env)-&gt;NewStringUTF(env, <span class="string">"Hello World! It's JNI"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> JNINativeMethod gMethods[] = &#123;</span><br><span class="line">        &#123;<span class="string">"getMessage"</span>,  <span class="string">"()Ljava/lang/String;"</span>,  (<span class="keyword">void</span>*) getMessageNative&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">JNIEXPORT jint <span class="title">JNI_OnLoad</span><span class="params">(JavaVM* vm, <span class="keyword">void</span> *reserved)</span> <span class="comment">//è¿™æ˜¯JNI_OnLoadçš„å£°æ˜ï¼Œå¿…é¡»æŒ‰ç…§è¿™æ ·çš„æ–¹å¼å£°æ˜</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//æ³¨å†Œæ—¶åœ¨JNIEnvä¸­å®ç°çš„ï¼Œæ‰€ä»¥å¿…é¡»é¦–å…ˆè·å–å®ƒ</span></span><br><span class="line">	JNIEnv* env = <span class="literal">NULL</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//ä»JavaVMè·å–JNIEnvï¼Œä¸€èˆ¬ä½¿ç”¨1.4çš„ç‰ˆæœ¬</span></span><br><span class="line">	<span class="keyword">if</span>((*vm)-&gt;GetEnv(vm, (<span class="keyword">void</span>**)&amp;env, JNI_VERSION_1_4) != JNI_OK) </span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">	jclass clazz;</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">char</span>* <span class="keyword">const</span> clsName=<span class="string">"com/footprint/littleshell/TestActivity"</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//è¿™é‡Œå¯ä»¥æ‰¾åˆ°è¦æ³¨å†Œçš„ç±»ï¼Œå‰ææ˜¯è¿™ä¸ªç±»å·²ç»åŠ è½½åˆ°javaè™šæ‹Ÿæœºä¸­ã€‚ è¿™é‡Œè¯´æ˜ï¼ŒåŠ¨æ€åº“å’Œæœ‰nativeæ–¹æ³•çš„ç±»ä¹‹é—´ï¼Œæ²¡æœ‰ä»»ä½•å¯¹åº”å…³ç³»ã€‚</span></span><br><span class="line">	clazz = (*env)-&gt;FindClass(env, clsName); </span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(clazz == <span class="literal">NULL</span>) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"cannot get class:%s\n"</span>, clsName);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//è¿™é‡Œå°±æ˜¯å…³é”®äº†ï¼ŒæŠŠæœ¬åœ°å‡½æ•°å’Œä¸€ä¸ªjavaç±»æ–¹æ³•å…³è”èµ·æ¥ã€‚ä¸ç®¡ä¹‹å‰æ˜¯å¦å…³è”è¿‡ï¼Œä¸€å¾‹æŠŠä¹‹å‰çš„æ›¿æ¢æ‰ï¼</span></span><br><span class="line">	<span class="keyword">if</span>((*env)-&gt;RegisterNatives(env, clazz, gMethods, <span class="keyword">sizeof</span>(gMethods)/<span class="keyword">sizeof</span>(gMethods[<span class="number">0</span>]))!= JNI_OK)  &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"register native method failed!\n"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> JNI_VERSION_1_4; <span class="comment">//å¿…é¡»è¿”å›ç‰ˆæœ¬ï¼Œå¦åˆ™åŠ è½½ä¼šå¤±è´¥ã€‚</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é…ç½®å¥½ gradleï¼ˆå‚è§ä¸Šé¢ï¼‰ï¼Œbuild å·¥ç¨‹ï¼Œæ‹·è´ç”Ÿæˆçš„<code>.so</code>æ–‡ä»¶ï¼Œè¿è¡Œå³å¯ã€‚ä¸‹é¢æˆ‘ä»¬æ¥é‡ç‚¹è§£æè¿™ä¸ª c æ–‡ä»¶çš„å†…å®¹ã€‚</p>
<blockquote>
<p>PS: ä¾‹å­å†…å®¹ä»¥åŠæ³¨é‡Šæ¥è‡ª<a href="http://blog.csdn.net/imyfriend/article/details/9117917" target="_blank" rel="noopener">Java JNI_OnLoadçš„å¦™ç”¨</a>ã€‚</p>
</blockquote>
<p>åŠ¨æ€æ³¨å†ŒåŸºäºä»¥ä¸‹å†…å®¹å®ç°ï¼š</p>
<ol>
<li>å½“ Java å±‚é€šè¿‡<code>System.loadLibrary()</code>åŠ è½½å®ŒJNIåŠ¨æ€åº“åï¼Œç´§æ¥ç€ä¼šæŸ¥æ‰¾è¯¥åº“ä¸­ä¸€ä¸ªå«<code>JNI_OnLoad()</code>çš„å‡½æ•°ï¼Œå¦‚æœæœ‰ï¼Œå°±è°ƒç”¨å®ƒï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•é‡Œé¢è¿›è¡Œä¸€äº›é¢„å¤‡å·¥ä½œï¼Œæ¯”å¦‚ï¼šé™æ€æ³¨å†Œï¼ˆä¹Ÿå¯ä»¥æ‰‹åŠ¨æš´éœ²ä¸€ä¸ª init æ–¹æ³•å‡ºæ¥ï¼Œåœ¨åŠ è½½å®Œæˆä¹‹åæ‰‹åŠ¨è°ƒç”¨ï¼‰</li>
<li>Java å‡½æ•°åˆ° native å‡½æ•°çš„æ˜ å°„å¯ä»¥ç”±æ•°æ®ç»“æ„<code>JNINativeMethod</code>æ¥è¡¨ç¤ºã€‚</li>
</ol>
<p><code>JNINativeMethod</code>ç»“æ„ï¼š</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">   	<span class="comment">//Javaä¸­nativeå‡½æ•°çš„åå­—ï¼Œä¸ç”¨æºå¸¦åŒ…çš„è·¯å¾„ã€‚ä¾‹å¦‚â€œnative_initâ€œã€‚</span></span><br><span class="line">	<span class="keyword">const</span> <span class="keyword">char</span>* name;</span><br><span class="line">	<span class="comment">//Javaå‡½æ•°çš„ç­¾åä¿¡æ¯ï¼Œç”¨å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œæ˜¯å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹çš„ç»„åˆã€‚</span></span><br><span class="line">	<span class="keyword">const</span> <span class="keyword">char</span>* signature;</span><br><span class="line">	<span class="comment">//JNIå±‚å¯¹åº”å‡½æ•°çš„å‡½æ•°æŒ‡é’ˆï¼Œæ³¨æ„å®ƒæ˜¯void*ç±»å‹ã€‚</span></span><br><span class="line">	<span class="keyword">void</span>*  fnPtr;</span><br><span class="line">&#125; JNINativeMethod;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªç»“æ„çš„ä¸‰ä¸ªå­—æ®µçš„å«ä¹‰éƒ½å·²ç»æ³¨é‡Šæ¸…æ¥šï¼Œæ ¹æ®ä¾‹å­æˆ‘ä»¬å†è§£é‡Šä¸€ä¸‹ï¼š</p>
<ol>
<li><code>const char* name;</code> åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­å°±æ˜¯<code>getMessage</code>ï¼›</li>
<li><code>const char* signature;</code> è¿™ä¸ªæ˜¯ Java å‡½æ•°çš„ç­¾åä¿¡æ¯ï¼Œå¦‚æœè¦å…¨é¢äº†è§£ï¼Œå»ºè®®è¯»è€…å¯ä»¥å»é˜…è¯»ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹ï¼Œå› ä¸ºæˆ‘ä»¬çš„ class æ–‡ä»¶ä¹Ÿä½¿ç”¨åŒæ ·çš„æ•°æ®ç»“æ„æ¥æè¿°ä¸€ä¸ªæ–¹æ³•ï¼Œè§„èŒƒä¸­æœ‰è¯¦ç»†è¯´æ˜ï¼›</li>
<li><code>void*  fnPtr;</code> æŒ‡å‘æœ¬åœ°æ–¹æ³•çš„å‡½æ•°æŒ‡é’ˆï¼ŒæŠŠ fnPtr æ¢æˆ native å‡½æ•°åç§°å°±å¥½ï¼Œè¿™ä¸ªåå­—ä¸éœ€è¦å†éµå¾ªé™æ€æ³¨å†Œçš„è§„èŒƒï¼›</li>
</ol>
<p>ä»è¿™ä¸ªå…³ç³»å°±å¯ä»¥çœ‹å‡ºæ˜¯è¦ä» Java çš„å“ªä¸ªå‡½æ•°æ˜ å°„åˆ° native çš„å“ªä¸ªå‡½æ•°ã€‚ä¹‹åçš„äº‹æƒ…å¾ˆç®€å•ï¼š<strong>é€šè¿‡ JNIEnv çš„<code>RegisterNatives</code>æ–¹æ³•å‘Šè¯‰ JVM è™šæ‹Ÿæœºæˆ‘è¦ç»™æŸä¸ªç±»ï¼ˆé€šè¿‡ç±»åæŒ‡å®šï¼‰æ³¨å†Œå“ªäº›å‡½æ•°æ˜ å°„ï¼ˆé€šè¿‡ JNINativeMethod æ•°ç»„è¡¨ç¤ºï¼‰ã€‚</strong></p>
<p>æ¯”å¯¹ç¤ºä¾‹ä»£ç åº”è¯¥å¾ˆå¥½ç†è§£ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>JNIå­¦ä¹ é‡ç‚¹ï¼š</p>
<ol>
<li>åŠ è½½åº“â€”â€”ä¸¤ç§æ–¹æ³• &amp; å®ƒä»¬çš„åŒºåˆ«ï¼›</li>
<li>æ–¹æ³•æ˜ å°„â€”â€”æ–¹æ³•å®šä¹‰æ–¹å¼ï¼Œæ–¹æ³•æ˜ å°„æ–¹å¼ï¼›</li>
<li>æ•°æ®ç±»å‹æ˜ å°„â€”â€”é‡ç‚¹æ˜¯å­—ç¬¦ä¸²å’Œæ•°ç»„ï¼›</li>
<li>åå‘è°ƒç”¨â€”â€”C++å±‚è°ƒç”¨Javaå±‚æ–¹æ³•å’Œå±æ€§ï¼Œè°ƒç”¨æ–¹æ³•åŒ…æ‹¬è°ƒç”¨å®ä¾‹æ–¹æ³•ã€é™æ€æ–¹æ³•ã€æ„é€ æ–¹æ³•ã€çˆ¶ç±»æ–¹æ³•ç­‰ï¼›</li>
<li>å¼•ç”¨ç±»å‹å’Œç®¡ç†â€”â€”å±€éƒ¨å¼•ç”¨ï¼Œå…¨å±€å¼•ç”¨ï¼Œå…¨å±€å¼±å¼•ç”¨ä¸‰ç§ï¼›</li>
<li>å¼‚å¸¸å¤„ç†;</li>
</ol>
<p>è¿™é‡Œæ¨èä¸€ä¸ªåšå®¢ç³»åˆ—: <a href="http://blog.csdn.net/xyang81/article/category/2759987" target="_blank" rel="noopener">CSDN@xyang0917â€”â€”JNI</a>ã€‚åšå®¢è®²è¿°æ¯”è¾ƒå…¨ï¼Œè€Œä¸”æœ‰æ¯”è¾ƒè¯¦ç»†çš„ä¾‹å­ï¼Œå¯¹äºå…¥é—¨ &amp; ç†Ÿæ‚‰JNIæœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚å½“ç„¶æœ€å…¨é¢çš„æ•™ç¨‹è¿˜æ˜¯åœ¨å®˜ç½‘: <a href="https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/design.html" target="_blank" rel="noopener">JNI Interface Functions and Pointers</a>ã€‚</p>
</div><div class="tags"><a href="/tags/åŸºç¡€/">åŸºç¡€</a><a href="/tags/Java/">Java</a></div><div class="post-nav"><a href="/2016/05/16/binder/" class="pre">Binderæ€»çº²</a><a href="/2016/05/14/Android-Framewok-Base/" class="next">Android Frameworkå­¦ä¹ é¢„å¤‡</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> åˆ†ç±»</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">59</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ReactiveX/">ReactiveX</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/åç«¯/">åç«¯</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/å·¥å…·/">å·¥å…·</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/å½±è§†/">å½±è§†</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/æŠ€æœ¯/">æŠ€æœ¯</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ç”µå½±/">ç”µå½±</a><span class="category-list-count">2</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> æ ‡ç­¾</i></div><div class="tagcloud"><a href="/tags/Gitbook/" style="font-size: 15px;">Gitbook</a> <a href="/tags/Runtime/" style="font-size: 15px;">Runtime</a> <a href="/tags/è§†å›¾/" style="font-size: 15px;">è§†å›¾</a> <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/æƒé™/" style="font-size: 15px;">æƒé™</a> <a href="/tags/ä»£ç ä¼˜åŒ–/" style="font-size: 15px;">ä»£ç ä¼˜åŒ–</a> <a href="/tags/Framework/" style="font-size: 15px;">Framework</a> <a href="/tags/æ€§èƒ½ä¼˜åŒ–/" style="font-size: 15px;">æ€§èƒ½ä¼˜åŒ–</a> <a href="/tags/å·¥å…·/" style="font-size: 15px;">å·¥å…·</a> <a href="/tags/åˆé›†/" style="font-size: 15px;">åˆé›†</a> <a href="/tags/ADB/" style="font-size: 15px;">ADB</a> <a href="/tags/æºç /" style="font-size: 15px;">æºç </a> <a href="/tags/åç¼–è¯‘/" style="font-size: 15px;">åç¼–è¯‘</a> <a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/Gradle/" style="font-size: 15px;">Gradle</a> <a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/åŸºç¡€/" style="font-size: 15px;">åŸºç¡€</a> <a href="/tags/æ•ˆç‡/" style="font-size: 15px;">æ•ˆç‡</a> <a href="/tags/MarkDown/" style="font-size: 15px;">MarkDown</a> <a href="/tags/ç”µå½±/" style="font-size: 15px;">ç”µå½±</a> <a href="/tags/Reactive/" style="font-size: 15px;">Reactive</a> <a href="/tags/AIDL/" style="font-size: 15px;">AIDL</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/é©±åŠ¨/" style="font-size: 15px;">é©±åŠ¨</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/æ—¥å¿—/" style="font-size: 15px;">æ—¥å¿—</a> <a href="/tags/äº‹ä»¶/" style="font-size: 15px;">äº‹ä»¶</a> <a href="/tags/ä»£ç è®¾è®¡/" style="font-size: 15px;">ä»£ç è®¾è®¡</a> <a href="/tags/ç½‘ç»œ/" style="font-size: 15px;">ç½‘ç»œ</a> <a href="/tags/æµ‹è¯•/" style="font-size: 15px;">æµ‹è¯•</a> <a href="/tags/Binder/" style="font-size: 15px;">Binder</a> <a href="/tags/Groovy/" style="font-size: 15px;">Groovy</a> <a href="/tags/Loader/" style="font-size: 15px;">Loader</a> <a href="/tags/RAC/" style="font-size: 15px;">RAC</a> <a href="/tags/äº‹ä»¶å¤„ç†/" style="font-size: 15px;">äº‹ä»¶å¤„ç†</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> æœ€è¿‘æ–‡ç« </i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/10/30/AIDL-åŸç†åˆ†æ/">AIDL åŸç†åˆ†æ</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/30/App-å¯åŠ¨è¿‡ç¨‹/">App å¯åŠ¨è¿‡ç¨‹</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/29/PMS-è§£æ/">PMS è§£æ</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/29/WMS-è§£æ/">WindowManagerService è§£æ</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/29/AMS-è§£æ/">AMS è§£æ</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/10/The-Good-Wife/">The-Good-Wife</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/10/Black-Sails/">é»‘å¸†</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/29/hello-world/">Hello World</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/23/XCode-8-2-1-ClangFormat-æ’ä»¶å®‰è£…/">XCode 8.2.1 ClangFormat æ’ä»¶å®‰è£…</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/07/SourceTree-åˆ†æ”¯å›¾è°±/">SourceTree åˆ†æ”¯å›¾è°±</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright Â© 2018 <a href="/." rel="nofollow">èœ—ç‰›å£³.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>