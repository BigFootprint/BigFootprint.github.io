<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="李全民的个人博客"><title>Gradle系列一：Groovy语法 | 蜗牛壳</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-65882749-1','auto');ga('send','pageview');</script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Gradle系列一：Groovy语法</h1><a id="logo" href="/.">蜗牛壳</a><p class="description">计算机只有 0 和 1 ，但世界是连续的</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Gradle系列一：Groovy语法</h1><div class="post-meta">May 18, 2016<span> | </span><span class="category"><a href="/categories/Android/">Android</a></span></div><div class="post-content"><div align="center"><img src="http://7xktd8.com1.z0.glb.clouddn.com/groovy-icon.png" height="250" alt="One Piece"></div>

<h2 id="一、简介"><a href="#一、简介" class="headerlink" title="一、简介"></a>一、简介</h2><p><a href="http://www.groovy-lang.org/" target="_blank" rel="noopener">Groovy</a> 是 Java 平台上设计的面向对象编程语言。它拥有类似 Python、Ruby 和 Smalltalk 的一些特性，可以作为 Java 平台的脚本语言使用。<a id="more"></a></p>
<p>Groovy 的语法与 Java 非常相似，多数的 Java 代码同时也是正确的 Groovy 代码，两者可以混编，<strong>Groovy 代码最终还是会被编译为字节码运行在 JVM 上</strong>。它与 Java 的关系可以描述如下：</p>
<div align="center"><img src="http://7xktd8.com1.z0.glb.clouddn.com/groovy&java.png" height="160" alt="Groovy和Java的关系"></div>

<p>简而言之，<strong>两者是互补的而非替代的</strong>。</p>
<h2 id="二、组成"><a href="#二、组成" class="headerlink" title="二、组成"></a>二、组成</h2><div align="center"><img src="http://7xktd8.com1.z0.glb.clouddn.com/Groovy组成.png" alt="Groovy组成"></div>

<p>如图，是 Groovy 语言主要的组成部分:</p>
<ol>
<li><strong>GDK</strong>  主要是针对 Java 原有的库的功能扩充，是的一些操作更加的方便；</li>
<li><strong>Library</strong>  扩展功能，为常用功能开发了一组工具类，比如读取XML，SQL查询等；</li>
<li><strong>Language</strong>  最核心的部分，优化了 Java 原有的语法，比如<code>switch</code>可以运用在任何类型的对象上；添加新型的语法内容，比如闭包；</li>
</ol>
<h2 id="三、环境搭建"><a href="#三、环境搭建" class="headerlink" title="三、环境搭建"></a>三、环境搭建</h2><p>关于环境搭建，可以参考这篇文章<a href="http://www.muzileecoding.com/groovy/Groovy-install-and-ide-plugin.html" target="_blank" rel="noopener">Groovy安装和Eclipse插件安装</a>。</p>
<h2 id="四、常见语法"><a href="#四、常见语法" class="headerlink" title="四、常见语法"></a>四、常见语法</h2><p><strong>【约定】</strong> 以下示例中给出的<code>assert</code>语句全部都为 true。</p>
<h3 id="4-1-类声明"><a href="#4-1-类声明" class="headerlink" title="4.1 类声明"></a>4.1 类声明</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Book</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String title</span><br><span class="line">	</span><br><span class="line">	Book (String theTitle)&#123;</span><br><span class="line">     	title = theTitle</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function">String <span class="title">getTitle</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> title</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>和 Java 很像，只是语句后面不需要再添加分号。</p>
<h3 id="4-2-方法和变量"><a href="#4-2-方法和变量" class="headerlink" title="4.2 方法和变量"></a>4.2 方法和变量</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Book gina = <span class="keyword">new</span> Book(<span class="string">'Groovy Study'</span>)</span><br><span class="line">def hello = <span class="string">'Hello, '</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span> gina.getTitle() == <span class="string">'Groovy Study'</span></span><br><span class="line"><span class="keyword">assert</span> hello + getTitleBackwards(gina) == <span class="string">'Hello, ydutS yvoorG'</span></span><br><span class="line"></span><br><span class="line"><span class="function">def <span class="title">getTitleBackwards</span><span class="params">(book)</span></span>&#123;</span><br><span class="line">	String title = book.getTitle()</span><br><span class="line">	title.reverse()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//方法调用形式</span></span><br><span class="line">println (<span class="string">'Groovy is great!'</span>)</span><br><span class="line">println <span class="string">'Groovy is great'</span></span><br></pre></td></tr></table></figure>
<p>这里可以看到类的初始化和 Java 并无不同(先忽略 String ，后面细说)，和 Java 不一样的是，定义/声明变量和方法使用<code>def</code>关键字，不需要再指明类型了。</p>
<h3 id="4-3-GroovyBean"><a href="#4-3-GroovyBean" class="headerlink" title="4.3 GroovyBean"></a>4.3 GroovyBean</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookBean</span></span>&#123;</span><br><span class="line">	String title</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">def groovyBook = <span class="keyword">new</span> BookBean()</span><br><span class="line"></span><br><span class="line">groovyBook.setTitle(<span class="string">'Groovy conquers the world'</span>)</span><br><span class="line"><span class="keyword">assert</span> groovyBook.getTitle() == <span class="string">'Groovy conquers the world'</span></span><br></pre></td></tr></table></figure>
<p>Groovy 不需要手动添加 getter 和 setter ，会为类自动生成 —— 声明 Bean 成为一件简单清爽的事情。</p>
<h3 id="4-4-GString"><a href="#4-4-GString" class="headerlink" title="4.4 GString"></a>4.4 GString</h3><p><strong>这个是重点！！</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def nick = <span class="string">'ReGina'</span></span><br><span class="line">def book = <span class="string">'Groovy Study'</span></span><br><span class="line"><span class="keyword">assert</span> <span class="string">"$nick is $book"</span> == <span class="string">'ReGina is Groovy Study'</span></span><br><span class="line"></span><br><span class="line">def language = <span class="string">'groovy'</span></span><br><span class="line">def improvedSentence = <span class="string">"$&#123;language.capitalize()&#125; is awesome!”</span></span><br><span class="line"><span class="string">assert improvedSentence == 'Groovy is awesome!'</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">assert "</span>abc<span class="string">" - "</span>a<span class="string">" == "</span>bc<span class="string">"</span></span><br></pre></td></tr></table></figure>
<p>String 的定义既可以使用单引号，也可以使用双引号，操作也变得更加丰富：添加了变量替换、方法调用（值计算）、加减操作等强大形象的功能。</p>
<p>其实 Groovy 中的 String 不止以上两种形式，以下是汇总表格:</p>
<div align="center"><img src="http://7xktd8.com1.z0.glb.clouddn.com/groovy-string.png" alt="Groovy字符串形式"></div>

<p>如图，除了单引号，双引号，还有三个单引号，三个双引号的形式，三个引号是用于多行展示的，比Java要方便很多。其中<code>Placeholder resolved</code>表示是否支持变量计算替换，<code>Backslash escape</code>表示是否支持转义。</p>
<h3 id="4-5-Number"><a href="#4-5-Number" class="headerlink" title="4.5 Number"></a>4.5 Number</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">def x = <span class="number">1</span></span><br><span class="line">def y = <span class="number">2</span></span><br><span class="line"><span class="keyword">assert</span> x + y == <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span> x.plus(y) == <span class="number">3</span></span><br><span class="line"><span class="keyword">assert</span> x <span class="keyword">instanceof</span> Integer</span><br></pre></td></tr></table></figure>
<p>数字除了相加，还能调用方法。这是因为<strong>在 Groovy 中，一切都是对象，没有基本类型</strong>，基本类型都会升级成包装类型运行。</p>
<h3 id="4-6-Range"><a href="#4-6-Range" class="headerlink" title="4.6 Range"></a>4.6 Range</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def x = <span class="number">1</span>..<span class="number">10</span></span><br><span class="line"><span class="keyword">assert</span> x.contains(<span class="number">5</span>)</span><br><span class="line"><span class="keyword">assert</span> x.contains(<span class="number">15</span>) == <span class="keyword">false</span></span><br><span class="line"><span class="keyword">assert</span> x.size() == <span class="number">10</span></span><br><span class="line"><span class="keyword">assert</span> x.from == <span class="number">1</span></span><br><span class="line"><span class="keyword">assert</span> x.to == <span class="number">10</span></span><br><span class="line"><span class="keyword">assert</span> x.reverse() == <span class="number">10</span>..<span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>一个新的类，用于表达一个范围。它具备很多神奇的功能，下面的一些例子中可以看到它的一些用法，具体可以参考<a href="http://www.groovy-lang.org/documentation.html" target="_blank" rel="noopener">官方Doc</a>、</p>
<h3 id="4-7-List"><a href="#4-7-List" class="headerlink" title="4.7 List"></a>4.7 List</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">def num = [<span class="string">'一'</span>, <span class="string">'二'</span>, <span class="string">'三'</span>, <span class="string">'四'</span>, <span class="string">'五'</span>, <span class="string">'六'</span>, <span class="string">'七'</span>, <span class="string">'八'</span>, <span class="string">'九'</span>, <span class="string">'十'</span>]</span><br><span class="line"><span class="keyword">assert</span> num[<span class="number">4</span>] == <span class="string">'五'</span></span><br><span class="line"></span><br><span class="line">num[<span class="number">10</span>] = <span class="string">'十一'</span></span><br><span class="line"><span class="keyword">assert</span> num.size() == <span class="number">11</span></span><br><span class="line"></span><br><span class="line">def list = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">list.each() &#123; item -&gt;</span><br><span class="line">	<span class="keyword">assert</span> item == list[item]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">List list2 = [<span class="number">1</span>, <span class="number">2</span>, *list, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">assert</span> list2 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line">def myList = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span> myList[<span class="number">0</span>..<span class="number">2</span>] == [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line"><span class="keyword">assert</span> myList[<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>] == [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'e'</span>]</span><br><span class="line"></span><br><span class="line">myList[<span class="number">0</span>..<span class="number">2</span>] = [<span class="string">'x'</span>, <span class="string">'y'</span>, <span class="string">'z'</span>]</span><br><span class="line"><span class="keyword">assert</span> myList == [<span class="string">'x'</span>, <span class="string">'y'</span>, <span class="string">'z'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>]</span><br><span class="line"></span><br><span class="line">myList[<span class="number">3</span>..<span class="number">5</span>] = []</span><br><span class="line"><span class="keyword">assert</span> myList == [<span class="string">'x'</span>, <span class="string">'y'</span>, <span class="string">'z'</span>]</span><br><span class="line"></span><br><span class="line">myList[<span class="number">1</span>..<span class="number">1</span>] = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="keyword">assert</span> myList == [<span class="string">'x'</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="string">'z'</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span> myList[-<span class="number">1</span>] == <span class="string">'z'</span></span><br><span class="line"></span><br><span class="line">List myList = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line"><span class="keyword">assert</span> [<span class="string">'a'</span>, <span class="string">'x'</span>, <span class="string">'c'</span>].grep(myList) == <span class="string">'a'</span></span><br><span class="line"></span><br><span class="line">def kings = [<span class="string">'Dierk'</span>, <span class="string">'Paul'</span>]</span><br><span class="line">kings = kings.sort&#123; item -&gt; </span><br><span class="line">	item.size()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">assert</span> kings = [<span class="string">'Paul'</span>, <span class="string">'Dierk'</span>]</span><br><span class="line"></span><br><span class="line">def odd = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].findAll &#123;item -&gt;</span><br><span class="line">	item % <span class="number">2</span> == <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">assert</span> odd == [<span class="number">1</span>, <span class="number">3</span>]</span><br></pre></td></tr></table></figure>
<p>List 是我们首先介绍的一个集合 ，可以看到它的声明、使用方式和我们熟悉的数组非常类似，配合 range 使用，更加炫酷噢(看不懂的地方语法可以后面再看)！</p>
<p>这是 GDK 对 Java 增强的一个很好的例子。</p>
<h3 id="4-8-Map"><a href="#4-8-Map" class="headerlink" title="4.8 Map"></a>4.8 Map</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">def http = [</span><br><span class="line">	<span class="number">100</span> : <span class="string">'CONTINUE'</span>,</span><br><span class="line">	<span class="number">200</span> : <span class="string">'OK'</span>,</span><br><span class="line">	<span class="number">400</span> : <span class="string">'BAD REQUEST'</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span> http[<span class="number">200</span>] == <span class="string">'OK'</span></span><br><span class="line"><span class="keyword">assert</span> http.200 == <span class="string">'OK'</span></span><br><span class="line">http[<span class="number">500</span>] = <span class="string">'INTERNAL SERVER ERROR'</span></span><br><span class="line"><span class="keyword">assert</span> http.size() == <span class="number">4</span></span><br></pre></td></tr></table></figure>
<p>这里展示的是 Map 的增强使用，非常符合人的直觉思维，比 Java 的阅读性也更高。</p>
<h3 id="4-9-Control-Structure"><a href="#4-9-Control-Structure" class="headerlink" title="4.9 Control Structure"></a>4.9 Control Structure</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(index in <span class="number">1</span>..<span class="number">10</span>)&#123;</span><br><span class="line">	println index</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">def list = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">for</span>(index in list)&#123;</span><br><span class="line">	println index</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">def age = <span class="number">36</span></span><br><span class="line"><span class="keyword">switch</span>(age)&#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">16</span>..<span class="number">20</span> : <span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">21</span>..<span class="number">50</span> : <span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">default</span>: <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>控制结构也得到进一步增强，比如例子中，for 可以与 range 配合使用，<code>switch...case...</code>也可以和 range 结合。</p>
<h3 id="4-10-Other"><a href="#4-10-Other" class="headerlink" title="4.10 Other"></a>4.10 Other</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">assert</span> code = <span class="string">'1 + 49.0'</span></span><br><span class="line"><span class="keyword">assert</span> <span class="number">50.0</span> == evaluate(code)</span><br><span class="line"></span><br><span class="line">value ?: <span class="keyword">default</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span>(candidate)&#123;</span><br><span class="line">	<span class="keyword">case</span> classifier1: handle1() ; <span class="keyword">break</span>;</span><br><span class="line">c	ase classifier2: handle2() ; <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这些是一些额外的例子，比如计算表达式的值，三目操作符的简化（空则用 default 值），主要目的是展现一下 Groovy 所做的优化以及一些”奇技淫巧”。</p>
<h3 id="4-11-总结"><a href="#4-11-总结" class="headerlink" title="4.11 总结"></a>4.11 总结</h3><p>Groovy 对原 Java 的语法以及集合等做了大量的扩充，不但增强了原有功能，使用起来更加快速自然，也添加新的语法，使得语言的表达能力更强。</p>
<p>上面的例子并不系统，主要目的是为了让读者对 Groovy 这门语言有大概的认知。系统学习的话还是建议看<a href="http://www.groovy-lang.org/documentation.html" target="_blank" rel="noopener">官方文档</a>。</p>
<h2 id="五、Closure"><a href="#五、Closure" class="headerlink" title="五、Closure"></a>五、Closure</h2><p>本节所要介绍的 <strong>Closure(闭包)</strong> 是语法的一个重要组成部分，因为非常重要，因此单独拉出来作为一节阐述。</p>
<blockquote>
<p>要学习 Gradle，闭包的概念必须理解。</p>
</blockquote>
<h3 id="5-1-Closure是什么-？"><a href="#5-1-Closure是什么-？" class="headerlink" title="5.1 Closure是什么 ？"></a>5.1 Closure是什么 ？</h3><p>对于 Java 程序员来说，Closure 是一个比较陌生的概念: </p>
<ol>
<li>A closure is a piece of code wrapped up as an object. </li>
<li>It acts like a method in that it can take parameters and it can return a value. </li>
<li>It’s a normal object in that you can pass a reference to it around just as you can a reference to any other object. </li>
</ol>
<p>这就是 Closure，中文称为闭包。从概念上类比一下，闭包就是 C++ 中的函数（可以通过函数指针引用），OC 中的 Block，JavaScript 中的 Closure。</p>
<p>通俗的说：<strong>闭包就是一段代码，可以接受参数，可以在程序中像变量一样传递。</strong></p>
<h3 id="5-2-声明和使用"><a href="#5-2-声明和使用" class="headerlink" title="5.2 声明和使用"></a>5.2 声明和使用</h3><p>先来个最简单的例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Closure printer = &#123;line -&gt; println line&#125;</span><br></pre></td></tr></table></figure>
<p>以上就是一个简单的闭包声明，它接受一个参数 line。使用例子如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Closure printer = &#123;line -&gt; println line&#125;</span><br><span class="line">printer(<span class="string">"Hello world"</span>)</span><br></pre></td></tr></table></figure>
<p>执行以上代码，就可以看到命令行中打印出 “Hello world”。可以看到闭包的使用和方法调用极其类似。下面来展示更多的例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def adder = &#123;x, y -&gt; <span class="keyword">return</span> x+y&#125; <span class="comment">//闭包adder</span></span><br><span class="line"><span class="function"><span class="keyword">assert</span> <span class="title">adder</span><span class="params">(<span class="number">4</span>, <span class="number">3</span>)</span> </span>== <span class="number">7</span></span><br><span class="line"><span class="keyword">assert</span> adder.call(<span class="number">2</span>,<span class="number">6</span>) == <span class="number">8</span></span><br></pre></td></tr></table></figure>
<p>一目了然。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">def <span class="title">benchmark</span><span class="params">(<span class="keyword">int</span> repeat, Closure worker)</span> </span>&#123;</span><br><span class="line">	def start = System.nanoTime()</span><br><span class="line">	repeat.times&#123; worker(it) &#125;</span><br><span class="line"></span><br><span class="line">	def stop = System.nanoTime()</span><br><span class="line">	<span class="keyword">return</span> stop - start</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">def slow = benchmark(<span class="number">10000</span>,  &#123;(<span class="keyword">int</span>)it/<span class="number">2</span>&#125;)</span><br><span class="line">def fast = benchmark(<span class="number">10000</span>) &#123;it.intdiv(<span class="number">2</span>)&#125;</span><br><span class="line"><span class="keyword">assert</span> fast * <span class="number">15</span> &lt; slow</span><br></pre></td></tr></table></figure>
<p>这个例子比较复杂一些:</p>
<ol>
<li>首先定义了一个方法<code>benchmark</code>，它接受一个闭包作为参数；</li>
<li>调用的时候直接传递进去两个闭包: <code>{(int)it/2}</code>和<code>{it.intdiv(2)}</code>；</li>
<li>在方法内部，通过<code>worker(it)</code>的方式调用闭包；</li>
</ol>
<h3 id="5-3-闭包要点"><a href="#5-3-闭包要点" class="headerlink" title="5.3 闭包要点"></a>5.3 闭包要点</h3><p>关于闭包，还有几个要点是必须要了解的：</p>
<ol>
<li>当看到 {} 的时候，应当认为等同于:new Closure(){}；</li>
<li>任何一个 closure 都有一个默认的参数：it，它指向传递给 closure 的第一个参数，如果没有传递参数，则 it 为 null；</li>
<li>closure 总是有返回值，如果没有写 return，则返回最后一行代码的左值；如果没有值，则是 null；</li>
</ol>
<p>下面给一个例子解释一下第二点和第三点：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义闭包，使用默认参数it</span></span><br><span class="line">def odd = &#123; it % <span class="number">2</span> == <span class="number">1</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//将List中的数传递进入闭包，如果闭包返回true，则放到结果List中去</span></span><br><span class="line"><span class="keyword">assert</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].grep(odd) == [<span class="number">1</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">//将switch的参数传给闭包，如果为true，则执行case</span></span><br><span class="line"><span class="keyword">switch</span>(<span class="number">10</span>)&#123;</span><br><span class="line">	<span class="keyword">case</span> odd : <span class="keyword">assert</span> <span class="keyword">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="number">2</span> in odd)</span><br><span class="line">	<span class="keyword">assert</span> <span class="keyword">false</span></span><br></pre></td></tr></table></figure>
<p>这个例子展示的用法比较偏，但正展示了 Groovy 的强大功能，其中闭包 odd 的返回值就是<code>it % 2 == 1</code>。</p>
<h3 id="5-4-与方法的关系"><a href="#5-4-与方法的关系" class="headerlink" title="5.4 与方法的关系"></a>5.4 与方法的关系</h3><p>Closure 确实是一种新的语法机制，但是 Groovy 提供了一种办法，可以将一个方法转换成闭包:</p>
<div align="center"><img src="http://7xktd8.com1.z0.glb.clouddn.com/grrovy-closure&method.png" height="188" alt="Groovy方法转换成闭包"></div>

<p>其中<code>receiver</code>代表的是一个对象实例，<code>.&amp;</code>是固定格式，<code>someMethod</code>是对象的一个方法名。来看个例子:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MultiMethodSample</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">mysteryMethod</span> <span class="params">(String value)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span>  value.length()</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">mysteryMethod</span><span class="params">(List list)</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> list.size()</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">mysteryMethod</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> x + y;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">MultiMethodSample instance = <span class="keyword">new</span> MultiMethodSample()</span><br><span class="line">Closure multi = instance.&amp;mysteryMethod</span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span> <span class="number">10</span> == multi (<span class="string">'string arg'</span>) </span><br><span class="line"><span class="keyword">assert</span> <span class="number">3</span> = multi ([<span class="string">'list'</span>, <span class="string">'of'</span>, <span class="string">'values'</span>])</span><br><span class="line"><span class="keyword">assert</span> <span class="number">14</span> = multi (<span class="number">6</span>, <span class="number">8</span>)</span><br></pre></td></tr></table></figure>
<p>如图，通过<code>instance.&amp;mysteryMethod</code>就可以生成一个闭包，这个闭包与一般定义的还不同，它可以根据参数的不同执行到不同的方法，保留了方法的重载机制 —— 从这个角度说：<strong>闭包和方法本质上就是一样的</strong>。</p>
<h3 id="5-5-Scope"><a href="#5-5-Scope" class="headerlink" title="5.5 Scope"></a>5.5 Scope</h3><p>这里要讲一个很重要的东西: <strong>Scope</strong>，什么是 Scope 呢？</p>
<blockquote>
<p>The environment available inside a closure is called its <strong>scope</strong>.</p>
</blockquote>
<p>具体来说，Scope 就是考察:</p>
<ol>
<li>this指向什么？</li>
<li>可以获取哪些外部变量和方法? </li>
</ol>
<h4 id="5-5-1-this指针"><a href="#5-5-1-this指针" class="headerlink" title="5.5.1 this指针"></a>5.5.1 <code>this</code>指针</h4><p>来看个例子:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">def x = <span class="number">0</span></span><br><span class="line"><span class="number">10</span>.times &#123;</span><br><span class="line">	x ++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span> x == <span class="number">10</span></span><br></pre></td></tr></table></figure>
<p><code>times</code>方法本身并不知道 x 的存在，但 Closure 却可以对<code>x</code>进行读写，这是怎么做到的呢？</p>
<p>这里又要引入一个新的概念 <strong>Birthday Context</strong> :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The closure somehow remembers the context at the point of its declaration and carries it along throughout its lifetime. That way, it can work on that original context whenever the situation calls <span class="keyword">for</span> it. This is called the __birthday context__ of the closures.</span><br></pre></td></tr></table></figure>
<p>即：闭包会”记住”它声明的时候的上下文环境，在它的生命周期期间内一直引用着这个环境，这样，闭包就能随时操作原来的环境(包括变量)，这个上下文环境就称为闭包的 <strong>Birthday Context</strong> 。</p>
<p>还是以上面的例子为参考，引用关系如下:</p>
<div align="center"><img src="http://7xktd8.com1.z0.glb.clouddn.com/闭包birthday-context.png" height="150" alt="Groovy的Birthday Context引用关系"></div>

<p>如图，Script 就是代表脚本文件本身，<code>x</code>就是声明在脚本文件中的，同时脚本文件中有声明了闭包<code>{x++}</code>，这个闭包就持有对外部环境的引用，这里可以看到就是<code>x</code>，当把闭包传给<code>times</code>函数的时候，闭包依然可以获得<code>x</code>的引用。</p>
<p>在 Java 中，在一个方法中调用<code>this</code>指向的是当前对象本身，那么在闭包中使用<code>this</code>也是指向当前对象么？非也:</p>
<blockquote>
<p>its owner: the object in whose scope the closure was declared.</p>
</blockquote>
<p><strong>闭包中的<code>this</code>指向的是它的 owner，即创建它的对象</strong>。还是来看个例子:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mother</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> field = <span class="number">1</span></span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">method</span> <span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="number">2</span> &#125;</span><br><span class="line">	<span class="function">Closure <span class="title">birth</span><span class="params">(param)</span></span>&#123;</span><br><span class="line">		def local = <span class="number">3</span></span><br><span class="line">		def closure = &#123;caller -&gt;</span><br><span class="line">     		[ self : <span class="keyword">this</span>, field:field, method: method(),</span><br><span class="line">     		local : local, param : param, caller : caller,</span><br><span class="line">     		owner : owner,  delegate: delegate</span><br><span class="line">     		]</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> closure</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Mother julia = <span class="keyword">new</span> Mother()</span><br><span class="line">def closure = julia.birth(<span class="number">4</span>)</span><br><span class="line">def context = closure.call(<span class="keyword">this</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span> context.self == julia</span><br><span class="line"><span class="keyword">assert</span> context.field == <span class="number">1</span></span><br><span class="line"><span class="keyword">assert</span> context.method == <span class="number">2</span></span><br><span class="line"><span class="keyword">assert</span> context.local == <span class="number">3</span></span><br><span class="line"><span class="keyword">assert</span> context.param == <span class="number">4</span></span><br><span class="line"><span class="keyword">assert</span> context.caller == <span class="keyword">this</span></span><br><span class="line"><span class="keyword">assert</span> context.owner == julia</span><br></pre></td></tr></table></figure>
<p>读者可以自己跑一下看看：例子中的 closure 中的 this 指向的就是它的创建者 mother。</p>
<blockquote>
<p>【注意】方法不是对象，因此例子中的 closure 的创建者不是<code>birth</code>方法，而是 julia 对象。</p>
</blockquote>
<h4 id="5-5-2-外部变量和方法"><a href="#5-5-2-外部变量和方法" class="headerlink" title="5.5.2 外部变量和方法"></a>5.5.2 外部变量和方法</h4><p>还是从前面的例子看，<code>method()</code>方法和 field 变量是如何解析到的呢？</p>
<p>在 Closure 中，类似 method() 和 field 这样的类成员称为 <strong>vanilla reference</strong> 。vanilla reference 解析的时候，默认前面是加上<code>this.</code>引用的，即它们的解析是针对 owner 的。</p>
<h4 id="5-5-3-delegate"><a href="#5-5-3-delegate" class="headerlink" title="5.5.3 delegate"></a>5.5.3 delegate</h4><p><strong>delegate</strong> 是从例子中看到的，它是闭包的一个默认属性，它有什么作用呢？</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//假设List中有这个方法</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">List</span></span>&#123;</span><br><span class="line">	<span class="function">def <span class="title">with</span><span class="params">(Closure doit)</span> </span>&#123;</span><br><span class="line">		doit.delegate = <span class="keyword">this</span></span><br><span class="line">		doit()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">def list = []</span><br><span class="line">def expected = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">list.with&#123;</span><br><span class="line">	<span class="comment">// birth context 中并没有 add 方法</span></span><br><span class="line">	add <span class="number">1</span></span><br><span class="line">	add <span class="number">2</span></span><br><span class="line">	<span class="keyword">assert</span> delegate == expected</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>假设在<code>List</code>类中有一个<code>with()</code>方法，闭包传递给它之后，先修改 delegate 为 this，然后再执行闭包。那么上面的 assert 就成立。为什么呢？</p>
<p>因为 <strong>delegate 实际是用于更改 vanilla reference 的解析对象的</strong>。前面说了，在闭包中调用方法，默认前面是加上 this 的，但是 delegate 可以修改这个默认值，在前面的例子中，我们实际把 delegate 修改指向了 this，这个 this 实际指向的是 List 本身，因此这个<code>add()</code>方法调用的是 List 本身的<code>add()</code>方法，所以最后<code>assert delegate == expected</code>是成立的。</p>
<h4 id="5-5-4-Vanilla-Reference解析"><a href="#5-5-4-Vanilla-Reference解析" class="headerlink" title="5.5.4 Vanilla Reference解析"></a>5.5.4 Vanilla Reference解析</h4><p>前面说了 <strong>Vanilla Reference</strong> 的解析方式，有以下三种：</p>
<ol>
<li>The closure itself : 比如例子中的 local 变量；</li>
<li>The owner : 比如第二个例子中的 expected；</li>
<li>The delegate : 比如<code>add()</code>方法的解析；</li>
</ol>
<p>既然有三个解析途径，那么解析顺序是如何的呢？是不是设置了 delegate 就一定会改变 <strong>Vanilla Reference</strong> 的解析对象呢？</p>
<p>首先肯定是本地变量解析优先的，剩下的 owner 和 delegate 的解析顺序，则是决定于<code>resolveStrategy</code>，总共有四种情况:</p>
<ol>
<li>delegate first // 优先针对 delegate 解析</li>
<li>delegate only // 只对 delegate 解析</li>
<li>owner first // 优先针对 owner 解析</li>
<li>owner only // 只针对 owner 解析</li>
</ol>
<p>修改例子如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">closure.resolveStrategy = Closure.DELEGATE_ONLY</span><br></pre></td></tr></table></figure>
<p>通过更改解析策略，就可以控制解析对象和顺序。</p>
<h2 id="六、总结"><a href="#六、总结" class="headerlink" title="六、总结"></a>六、总结</h2><p>Groovy 作为一门脚本语言，与 Java 保持极大的相似性和兼容性，学习成本很低，并且极大的扩展了 Java 语言的表达能力！</p>
<p>这里分析 Groovy，主要是为学习 Gradle 提供一个基础，因此这里的列举既不系统也不深入，如果要深入学习，推荐以下资料:</p>
<ol>
<li><a href="http://www.groovy-lang.org/documentation.html" target="_blank" rel="noopener">官方文档</a>，Groovy的官方资料还是很全面的；</li>
<li>《Groovy In Action》，这个系列书对于入门以及稍微深入一门技术都还挺不错的；</li>
</ol>
</div><div class="tags"><a href="/tags/Gradle/">Gradle</a><a href="/tags/Groovy/">Groovy</a></div><div class="post-nav"><a href="/2016/05/19/gradle-task/" class="pre">Gradle系列四：Task</a><a href="/2016/05/18/Gradle-Outline/" class="next">Gradle系列总</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">59</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ReactiveX/">ReactiveX</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/后端/">后端</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/影视/">影视</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/技术/">技术</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/电影/">电影</a><span class="category-list-count">2</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Gitbook/" style="font-size: 15px;">Gitbook</a> <a href="/tags/Runtime/" style="font-size: 15px;">Runtime</a> <a href="/tags/视图/" style="font-size: 15px;">视图</a> <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/权限/" style="font-size: 15px;">权限</a> <a href="/tags/代码优化/" style="font-size: 15px;">代码优化</a> <a href="/tags/Framework/" style="font-size: 15px;">Framework</a> <a href="/tags/性能优化/" style="font-size: 15px;">性能优化</a> <a href="/tags/工具/" style="font-size: 15px;">工具</a> <a href="/tags/合集/" style="font-size: 15px;">合集</a> <a href="/tags/ADB/" style="font-size: 15px;">ADB</a> <a href="/tags/源码/" style="font-size: 15px;">源码</a> <a href="/tags/反编译/" style="font-size: 15px;">反编译</a> <a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/Gradle/" style="font-size: 15px;">Gradle</a> <a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/基础/" style="font-size: 15px;">基础</a> <a href="/tags/效率/" style="font-size: 15px;">效率</a> <a href="/tags/MarkDown/" style="font-size: 15px;">MarkDown</a> <a href="/tags/电影/" style="font-size: 15px;">电影</a> <a href="/tags/Reactive/" style="font-size: 15px;">Reactive</a> <a href="/tags/AIDL/" style="font-size: 15px;">AIDL</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/驱动/" style="font-size: 15px;">驱动</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/日志/" style="font-size: 15px;">日志</a> <a href="/tags/事件/" style="font-size: 15px;">事件</a> <a href="/tags/代码设计/" style="font-size: 15px;">代码设计</a> <a href="/tags/网络/" style="font-size: 15px;">网络</a> <a href="/tags/测试/" style="font-size: 15px;">测试</a> <a href="/tags/Binder/" style="font-size: 15px;">Binder</a> <a href="/tags/Groovy/" style="font-size: 15px;">Groovy</a> <a href="/tags/Loader/" style="font-size: 15px;">Loader</a> <a href="/tags/RAC/" style="font-size: 15px;">RAC</a> <a href="/tags/事件处理/" style="font-size: 15px;">事件处理</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/10/30/AIDL-原理分析/">AIDL 原理分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/30/App-启动过程/">App 启动过程</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/29/PMS-解析/">PMS 解析</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/29/WMS-解析/">WindowManagerService 解析</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/29/AMS-解析/">AMS 解析</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/10/The-Good-Wife/">The-Good-Wife</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/10/Black-Sails/">黑帆</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/29/hello-world/">Hello World</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/23/XCode-8-2-1-ClangFormat-插件安装/">XCode 8.2.1 ClangFormat 插件安装</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/07/SourceTree-分支图谱/">SourceTree 分支图谱</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">蜗牛壳.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>