<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="李全民的个人博客"><title>蜗牛壳 | 计算机只有 0 和 1 ，但世界是连续的</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-65882749-1','auto');ga('send','pageview');</script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">蜗牛壳</h1><a id="logo" href="/.">蜗牛壳</a><p class="description">计算机只有 0 和 1 ，但世界是连续的</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title"><a href="/2016/12/03/Hexo高级玩法和坑/">Hexo 高级玩法和坑</a></h1><div class="post-meta">2016-12-03</div><div class="post-content"><p>Hexo 虽然已经有很多的主题实现了各种酷炫的功能和排版，但是依然有人不满足。本文就结合自己部署博客时所做改动介绍两个大家玩的比较溜的高级玩法，以及这两个玩法要注意的问题。</p>
<blockquote>
<p><a href="https://hexo.io/plugins/" target="_blank" rel="noopener">Hexo 插件官网</a>上有很多插件可以选择。Hexo的插件安装非常简单，在博客的根目录下面执行:<code>npm install -g 插件名</code>即可。</p>
</blockquote>
<h2 id="置顶功能"><a href="#置顶功能" class="headerlink" title="置顶功能"></a>置顶功能</h2><p>置顶功能相关的帖子最早出处应该是<a href="http://www.netcan666.com/2015/11/22/%E8%A7%A3%E5%86%B3Hexo%E7%BD%AE%E9%A1%B6%E9%97%AE%E9%A2%98/" target="_blank" rel="noopener">解决Hexo置顶问题</a>这篇文章。Hexo 在安装的时候就自带了生成 Index 的插件，也就是<code>/node_modules/hexo-generator-index</code>插件，这个插件的具体玩法在<a href="https://github.com/hexojs/hexo-generator-index" target="_blank" rel="noopener">这里</a>。可以有两个配置项，其中一个就表示根据 date 排序，也就是文章的创建日期。</div><p class="readmore"><a href="/2016/12/03/Hexo高级玩法和坑/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/11/30/log4j/">Log4j</a></h1><div class="post-meta">2016-11-30</div><div class="post-content"><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>简单来说，<a href="https://logging.apache.org/log4j/1.2/manual.html" target="_blank" rel="noopener">Log4j</a> 是一个专门的日志工具，可以可靠、快速的进行日志输出。</p>
<blockquote>
<p>Inserting log statements into code is a low-tech method for debugging it. It may also be the only way because debuggers are not always available or applicable. This is usually the case for multithreaded applications and distributed applications at large.</p>
</blockquote>
<p>按照官网的说法，日志在某些情况是唯一进行调试的手段，比如多线程状态下，或者是分布式应用中。按照我的理解，日志有以下好处：</p>
<p>1）我们可以选择输出我们关注的信息到文件或者我们任何想要的地方，靠谱快速；<br>2）日志系统可以做快照，在发生异常情况时，可以记录此时的上下文环境；</p></div><p class="readmore"><a href="/2016/11/30/log4j/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/09/25/activity-launch-progress/">Activity启动过程</a></h1><div class="post-meta">2016-09-25</div><div class="post-content"><p>前面几篇文章讲述了 Binder 通信机制，另外两边文章 <a href="https://www.muzileecoding.com/android/Android-touchevent-process.html" target="_blank" rel="noopener">Android View事件处理</a> 和 <a href="https://www.muzileecoding.com/android/Android-view-display.html" target="_blank" rel="noopener">Android View绘制过程</a> 讲述了 Activity 上 View 相关的机制。那么剩下的就是如何组合这些机制实现我们开发、使用所看到的现象。</p>
<blockquote>
<p>在 <a href="https://www.muzileecoding.com/android/Android-view-display.html" target="_blank" rel="noopener">Android View绘制过程</a> 后面还留了一个点，即<code>ViewRootImpl.performTraversals()</code>是如何被触发调用的，本文就是弥合这样的裂缝。</p>
</blockquote>
<p></div><p class="readmore"><a href="/2016/09/25/activity-launch-progress/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/09/21/Android-view-display/">Android View绘制过程</a></h1><div class="post-meta">2016-09-21</div><div class="post-content"><blockquote>
<p><strong>A View occupies a rectangular area on the screen and is responsible for drawing and event handling。</strong></p>
</blockquote>
<h2 id="View-绘制模型"><a href="#View-绘制模型" class="headerlink" title="View 绘制模型"></a>View 绘制模型</h2><p>撇开 Android 系统不谈，我们想象一下自己要画一幅画会首先做哪些事情？首先得构图，我们得规划一下要画哪些东西，画在什么地方以及画多大，然后我们就能下笔成画了：</p>
<div align="center"><img src="http://7xktd8.com1.z0.glb.clouddn.com/viewdraw-mnlsh.jpg" alt="蒙娜丽莎的微笑"></div></div><p class="readmore"><a href="/2016/09/21/Android-view-display/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/09/04/Android-touchevent-process/">Android View事件处理</a></h1><div class="post-meta">2016-09-04</div><div class="post-content"><h2 id="View-模型-amp-事件模型"><a href="#View-模型-amp-事件模型" class="headerlink" title="View 模型 &amp; 事件模型"></a>View 模型 &amp; 事件模型</h2><h3 id="View-模型"><a href="#View-模型" class="headerlink" title="View 模型"></a>View 模型</h3><p>如图所示，是我们日常开发布局所接触的 View 模型：</p>
<div align="center"><img src="http://7xktd8.com1.z0.glb.clouddn.com/Android-View模型.png" alt="Android-View模型"></div>

<p>简单来说，就是 View 和 ViewGroup 的嵌套组合。ViewGroup 是一种特殊的 View，特殊之处就在于它可以容纳并按照一定的规则排列View，此时的 View 被称为子 View，常见的 View 有 Button、ImageView 等，常见的 ViewGroup 有 LinearLayout、Relativelayout等，Android 开发者应该非常熟悉。</div><p class="readmore"><a href="/2016/09/04/Android-touchevent-process/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/07/30/ReactiveX/">ReactiveX 初探</a></h1><div class="post-meta">2016-07-30</div><div class="post-content"><p>ReactiveX，<a href="https://github.com/ReactiveX/RxJava" target="_blank" rel="noopener">GitHub</a> 上的的定义如下：</p>
<blockquote>
<p>A library for composing asynchronous and event-based programs by using observable sequences.</p>
<p>It extends the observer pattern to support sequences of data/events and <strong>adds operators</strong> that allow you to compose sequences together declaratively <strong>while abstracting away concerns about things like low-level threading, synchronization, thread-safety and concurrent data structures</strong>.</p>
</blockquote>
<p>它通过扩展观察者模式来支持基于数据/事件流的开发模式，允许声明一组操作来处理数据/事件，同时能够避免开发者花精力去关注一些底层的概念，比如线程、同步、线程安全以及并发数据结构。</p>
<p>下面来详细讨论一下它的特点。</div><p class="readmore"><a href="/2016/07/30/ReactiveX/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/06/21/binder-service-lookup/">Binder之Service查询</a></h1><div class="post-meta">2016-06-21</div><div class="post-content"><p>前一篇文章<a href="http://www.muzileecoding.com/framework/binder-service-register.html" target="_blank" rel="noopener">Binder之Service注册</a>描述了一个 Service 如何在 SM 中完成服务注册，接下来就是要探索如何向 SM 查询这个服务。有前一篇的基础，希望这一篇可以快一些~</p>
<blockquote>
<p>【注意】服务查询和服务注册过程其实非常接近，因此本文会大量引用前一篇文章的分析过程，读者可以仔细阅读上一篇文章之后再来阅读这篇文章。</p>
</blockquote>
<p>本文将以 <strong>前文</strong> 指代文章<a href="http://www.muzileecoding.com/framework/binder-service-register.html" target="_blank" rel="noopener">Binder之Service注册</a>。</div><p class="readmore"><a href="/2016/06/21/binder-service-lookup/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/06/21/binder-service-register/">Binder之Service注册</a></h1><div class="post-meta">2016-06-21</div><div class="post-content"><p>前文<a href="http://www.muzileecoding.com/framework/binder-servicemanager.html" target="_blank" rel="noopener">Binder之Service Manager</a>已经讲述了 SM 如何启动并循环监听消息的，接下去按照逻辑应该是先说如何注册一个服务再说如何获取一个服务，但是从代码层面来说，先说获取服务似乎更好，好纠结。还是按照逻辑来讲吧~</p>
<h2 id="研究对象"><a href="#研究对象" class="headerlink" title="研究对象"></a>研究对象</h2><p>既然是讲述服务注册，最好的当然是从现有的系统中找出一枚服务，研究它的注册过程。<a href="http://www.muzileecoding.com/framework/binder.html" target="_blank" rel="noopener">总纲</a>中推荐的5篇文章正好有一篇是从这个角度切入分析Binder的：文章⑤<a href="http://www.cnblogs.com/innost/archive/2011/01/09/1931456.html" target="_blank" rel="noopener">Android深入浅出之Binder机制</a>。它是从 MediaServer 来切入分析的。</p>
<p>因为我们主要是看注册的过程，选择什么服务是次要的，因此这里也以该服务为分析对象。<strong>以下 MediaServer 简称 MS</strong>。MS 是为系统提供多媒体功能的服务，比如音频、视频等。</p>
<blockquote>
<p>和前一篇文章一样，这里仍然沿用 SM 指代 Service Manager。</p>
</blockquote></div><p class="readmore"><a href="/2016/06/21/binder-service-register/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/06/21/binder-servicemanager/">Binder之Service Manager</a></h1><div class="post-meta">2016-06-21</div><div class="post-content"><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p><strong>Service Manager (以下简称 SM )在 Binder 框架中负责的是维护 Service 的查询工作：给我一个名字，给你想要的服务。</strong>要注意的是：这里所说的 SM 并不是我们日常开发中用到的 SM，那个是 Java 层的封装，这里所讲的 SM 位于 Libraries 层。</p>
<p><strong>【涉及文件】</strong></p>
<table>
<thead>
<tr>
<th>文件</th>
<th>位置</th>
</tr>
</thead>
<tbody>
<tr>
<td>service_manager.c</td>
<td>/frameworks/base/cmds/servicemanager/service_manager.c</td>
</tr>
<tr>
<td>Libraries 层 binder.c</td>
<td>/frameworks/base/cmds/servicemanager/binder.c</td>
</tr>
<tr>
<td>驱动层 binder.c</td>
<td>kernel/common/drivers/staging/android/binder.c</td>
</tr>
</tbody>
</table></div><p class="readmore"><a href="/2016/06/21/binder-servicemanager/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/06/19/paraclete/">观影《辩护人》</a></h1><div class="post-meta">2016-06-19</div><div class="post-content"><p>豆瓣评分9.1分，应该归入极好的电影一类的了，是在公司电影俱乐部和同事一起观看的。</p>
<p>看久了国内这些“搞笑、无厘头、秀特效”的电影之后，就感觉是在一堆玻璃种找到了一块玉石，沉甸甸的。</p>
<p>影片最大的感受是：<strong>判断是否去做一件事的标准决不是它的高低贵贱，而是它是否是正确的，正确的判断标准是是否对绝大部分人有益。</strong>明白自己的责任，不畏他人的眼光，坚决贯彻自己的选择，so man不是吗？</div><p class="readmore"><a href="/2016/06/19/paraclete/">阅读全文</a></p></div><nav class="page-navigator"><a class="extend prev" rel="prev" href="/page/2/">上一页</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/4/">下一页</a></nav></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">59</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ReactiveX/">ReactiveX</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/后端/">后端</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/影视/">影视</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/技术/">技术</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/电影/">电影</a><span class="category-list-count">2</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Gitbook/" style="font-size: 15px;">Gitbook</a> <a href="/tags/Runtime/" style="font-size: 15px;">Runtime</a> <a href="/tags/视图/" style="font-size: 15px;">视图</a> <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/权限/" style="font-size: 15px;">权限</a> <a href="/tags/代码优化/" style="font-size: 15px;">代码优化</a> <a href="/tags/Framework/" style="font-size: 15px;">Framework</a> <a href="/tags/性能优化/" style="font-size: 15px;">性能优化</a> <a href="/tags/工具/" style="font-size: 15px;">工具</a> <a href="/tags/合集/" style="font-size: 15px;">合集</a> <a href="/tags/ADB/" style="font-size: 15px;">ADB</a> <a href="/tags/源码/" style="font-size: 15px;">源码</a> <a href="/tags/反编译/" style="font-size: 15px;">反编译</a> <a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/Gradle/" style="font-size: 15px;">Gradle</a> <a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/基础/" style="font-size: 15px;">基础</a> <a href="/tags/效率/" style="font-size: 15px;">效率</a> <a href="/tags/MarkDown/" style="font-size: 15px;">MarkDown</a> <a href="/tags/电影/" style="font-size: 15px;">电影</a> <a href="/tags/Reactive/" style="font-size: 15px;">Reactive</a> <a href="/tags/AIDL/" style="font-size: 15px;">AIDL</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/驱动/" style="font-size: 15px;">驱动</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/日志/" style="font-size: 15px;">日志</a> <a href="/tags/事件/" style="font-size: 15px;">事件</a> <a href="/tags/代码设计/" style="font-size: 15px;">代码设计</a> <a href="/tags/网络/" style="font-size: 15px;">网络</a> <a href="/tags/测试/" style="font-size: 15px;">测试</a> <a href="/tags/Binder/" style="font-size: 15px;">Binder</a> <a href="/tags/Groovy/" style="font-size: 15px;">Groovy</a> <a href="/tags/Loader/" style="font-size: 15px;">Loader</a> <a href="/tags/RAC/" style="font-size: 15px;">RAC</a> <a href="/tags/事件处理/" style="font-size: 15px;">事件处理</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/10/30/AIDL-原理分析/">AIDL 原理分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/30/App-启动过程/">App 启动过程</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/29/PMS-解析/">PMS 解析</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/29/WMS-解析/">WindowManagerService 解析</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/29/AMS-解析/">AMS 解析</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/10/The-Good-Wife/">The-Good-Wife</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/10/Black-Sails/">黑帆</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/29/hello-world/">Hello World</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/23/XCode-8-2-1-ClangFormat-插件安装/">XCode 8.2.1 ClangFormat 插件安装</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/07/SourceTree-分支图谱/">SourceTree 分支图谱</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">蜗牛壳.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>